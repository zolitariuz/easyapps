!function(t,n,e){t.fn.backstretch=function(o,i){return(o===e||0===o.length)&&t.error("No images were supplied for Backstretch"),0===t(n).scrollTop()&&n.scrollTo(0,0),this.each(function(){var n=t(this),e=n.data("backstretch");if(e){if("string"==typeof o&&"function"==typeof e[o])return e[o](i),void 0;i=t.extend(e.options,i),e.destroy(!0)}e=new a(this,o,i),n.data("backstretch",e)})},t.backstretch=function(n,e){return t("body").backstretch(n,e).data("backstretch")},t.expr[":"].backstretch=function(n){return t(n).data("backstretch")!==e},t.fn.backstretch.defaults={centeredX:!0,centeredY:!0,duration:5e3,fade:0};var o={left:0,top:0,overflow:"hidden",margin:0,padding:0,height:"100%",width:"100%",zIndex:-999999},i={position:"absolute",display:"none",margin:0,padding:0,border:"none",width:"auto",height:"auto",maxHeight:"none",maxWidth:"none",zIndex:-999999},a=function(e,i,a){this.options=t.extend({},t.fn.backstretch.defaults,a||{}),this.images=t.isArray(i)?i:[i],t.each(this.images,function(){t("<img />")[0].src=this}),this.isBody=e===document.body,this.$container=t(e),this.$root=this.isBody?s?t(n):t(document):this.$container,e=this.$container.children(".backstretch").first(),this.$wrap=e.length?e:t('<div class="backstretch"></div>').css(o).appendTo(this.$container),this.isBody||(e=this.$container.css("position"),i=this.$container.css("zIndex"),this.$container.css({position:"static"===e?"relative":e,zIndex:"auto"===i?0:i,background:"none"}),this.$wrap.css({zIndex:-999998})),this.$wrap.css({position:this.isBody&&s?"fixed":"absolute"}),this.index=0,this.show(this.index),t(n).on("resize.backstretch",t.proxy(this.resize,this)).on("orientationchange.backstretch",t.proxy(function(){this.isBody&&0===n.pageYOffset&&(n.scrollTo(0,1),this.resize())},this))};a.prototype={resize:function(){try{var t,e={left:0,top:0},o=this.isBody?this.$root.width():this.$root.innerWidth(),i=o,a=this.isBody?n.innerHeight?n.innerHeight:this.$root.height():this.$root.innerHeight(),s=i/this.$img.data("ratio");s>=a?(t=(s-a)/2,this.options.centeredY&&(e.top="-"+t+"px")):(s=a,i=s*this.$img.data("ratio"),t=(i-o)/2,this.options.centeredX&&(e.left="-"+t+"px")),this.$wrap.css({width:o,height:a}).find("img:not(.deleteable)").css({width:i,height:s}).css(e)}catch(r){}return this},show:function(n){if(!(Math.abs(n)>this.images.length-1)){var e=this,o=e.$wrap.find("img").addClass("deleteable"),a={relatedTarget:e.$container[0]};return e.$container.trigger(t.Event("backstretch.before",a),[e,n]),this.index=n,clearInterval(e.interval),e.$img=t("<img />").css(i).bind("load",function(i){var s=this.width||t(i.target).width();i=this.height||t(i.target).height(),t(this).data("ratio",s/i),t(this).fadeIn(e.options.speed||e.options.fade,function(){o.remove(),e.paused||e.cycle(),t(["after","show"]).each(function(){e.$container.trigger(t.Event("backstretch."+this,a),[e,n])})}),e.resize()}).appendTo(e.$wrap),e.$img.attr("src",e.images[n]),e}},next:function(){return this.show(this.index<this.images.length-1?this.index+1:0)},prev:function(){return this.show(0===this.index?this.images.length-1:this.index-1)},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this.next(),this},cycle:function(){return 1<this.images.length&&(clearInterval(this.interval),this.interval=setInterval(t.proxy(function(){this.paused||this.next()},this),this.options.duration)),this},destroy:function(e){t(n).off("resize.backstretch orientationchange.backstretch"),clearInterval(this.interval),e||this.$wrap.remove(),this.$container.removeData("backstretch")}};var s,r=navigator.userAgent,c=navigator.platform,u=r.match(/AppleWebKit\/([0-9]+)/),u=!!u&&u[1],h=r.match(/Fennec\/([0-9]+)/),h=!!h&&h[1],f=r.match(/Opera Mobi\/([0-9]+)/),l=!!f&&f[1],d=r.match(/MSIE ([0-9]+)/),d=!!d&&d[1];s=!((-1<c.indexOf("iPhone")||-1<c.indexOf("iPad")||-1<c.indexOf("iPod"))&&u&&534>u||n.operamini&&"[object OperaMini]"==={}.toString.call(n.operamini)||f&&7458>l||-1<r.indexOf("Android")&&u&&533>u||h&&6>h||"palmGetResource"in n&&u&&534>u||-1<r.indexOf("MeeGo")&&-1<r.indexOf("NokiaBrowser/8.5.0")||d&&6>=d)}(jQuery,window),!function(t){function n(){}function e(t){function e(n){n.prototype.option||(n.prototype.option=function(n){t.isPlainObject(n)&&(this.options=t.extend(!0,this.options,n))})}function i(n,e){t.fn[n]=function(i){if("string"==typeof i){for(var s=o.call(arguments,1),r=0,c=this.length;c>r;r++){var u=this[r],h=t.data(u,n);if(h)if(t.isFunction(h[i])&&"_"!==i.charAt(0)){var f=h[i].apply(h,s);if(void 0!==f)return f}else a("no such method '"+i+"' for "+n+" instance");else a("cannot call methods on "+n+" prior to initialization; attempted to call '"+i+"'")}return this}return this.each(function(){var o=t.data(this,n);o?(o.option(i),o._init()):(o=new e(this,i),t.data(this,n,o))})}}if(t){var a="undefined"==typeof console?n:function(t){console.error(t)};return t.bridget=function(t,n){e(n),i(t,n)},t.bridget}}var o=Array.prototype.slice;"function"==typeof define&&define.amd?define("jquery-bridget/jquery.bridget",["jquery"],e):e(t.jQuery)}(window),function(t){function n(n){var e=t.event;return e.target=e.target||e.srcElement||n,e}var e=document.documentElement,o=function(){};e.addEventListener?o=function(t,n,e){t.addEventListener(n,e,!1)}:e.attachEvent&&(o=function(t,e,o){t[e+o]=o.handleEvent?function(){var e=n(t);o.handleEvent.call(o,e)}:function(){var e=n(t);o.call(t,e)},t.attachEvent("on"+e,t[e+o])});var i=function(){};e.removeEventListener?i=function(t,n,e){t.removeEventListener(n,e,!1)}:e.detachEvent&&(i=function(t,n,e){t.detachEvent("on"+n,t[n+e]);try{delete t[n+e]}catch(o){t[n+e]=void 0}});var a={bind:o,unbind:i};"function"==typeof define&&define.amd?define("eventie/eventie",a):"object"==typeof exports?module.exports=a:t.eventie=a}(this),function(t){function n(t){"function"==typeof t&&(n.isReady?t():a.push(t))}function e(t){var e="readystatechange"===t.type&&"complete"!==i.readyState;if(!n.isReady&&!e){n.isReady=!0;for(var o=0,s=a.length;s>o;o++){var r=a[o];r()}}}function o(o){return o.bind(i,"DOMContentLoaded",e),o.bind(i,"readystatechange",e),o.bind(t,"load",e),n}var i=t.document,a=[];n.isReady=!1,"function"==typeof define&&define.amd?(n.isReady="function"==typeof requirejs,define("doc-ready/doc-ready",["eventie/eventie"],o)):t.docReady=o(t.eventie)}(this),function(){function t(){}function n(t,n){for(var e=t.length;e--;)if(t[e].listener===n)return e;return-1}function e(t){return function(){return this[t].apply(this,arguments)}}var o=t.prototype,i=this,a=i.EventEmitter;o.getListeners=function(t){var n,e,o=this._getEvents();if(t instanceof RegExp){n={};for(e in o)o.hasOwnProperty(e)&&t.test(e)&&(n[e]=o[e])}else n=o[t]||(o[t]=[]);return n},o.flattenListeners=function(t){var n,e=[];for(n=0;n<t.length;n+=1)e.push(t[n].listener);return e},o.getListenersAsObject=function(t){var n,e=this.getListeners(t);return e instanceof Array&&(n={},n[t]=e),n||e},o.addListener=function(t,e){var o,i=this.getListenersAsObject(t),a="object"==typeof e;for(o in i)i.hasOwnProperty(o)&&-1===n(i[o],e)&&i[o].push(a?e:{listener:e,once:!1});return this},o.on=e("addListener"),o.addOnceListener=function(t,n){return this.addListener(t,{listener:n,once:!0})},o.once=e("addOnceListener"),o.defineEvent=function(t){return this.getListeners(t),this},o.defineEvents=function(t){for(var n=0;n<t.length;n+=1)this.defineEvent(t[n]);return this},o.removeListener=function(t,e){var o,i,a=this.getListenersAsObject(t);for(i in a)a.hasOwnProperty(i)&&(o=n(a[i],e),-1!==o&&a[i].splice(o,1));return this},o.off=e("removeListener"),o.addListeners=function(t,n){return this.manipulateListeners(!1,t,n)},o.removeListeners=function(t,n){return this.manipulateListeners(!0,t,n)},o.manipulateListeners=function(t,n,e){var o,i,a=t?this.removeListener:this.addListener,s=t?this.removeListeners:this.addListeners;if("object"!=typeof n||n instanceof RegExp)for(o=e.length;o--;)a.call(this,n,e[o]);else for(o in n)n.hasOwnProperty(o)&&(i=n[o])&&("function"==typeof i?a.call(this,o,i):s.call(this,o,i));return this},o.removeEvent=function(t){var n,e=typeof t,o=this._getEvents();if("string"===e)delete o[t];else if(t instanceof RegExp)for(n in o)o.hasOwnProperty(n)&&t.test(n)&&delete o[n];else delete this._events;return this},o.removeAllListeners=e("removeEvent"),o.emitEvent=function(t,n){var e,o,i,a,s=this.getListenersAsObject(t);for(i in s)if(s.hasOwnProperty(i))for(o=s[i].length;o--;)e=s[i][o],e.once===!0&&this.removeListener(t,e.listener),a=e.listener.apply(this,n||[]),a===this._getOnceReturnValue()&&this.removeListener(t,e.listener);return this},o.trigger=e("emitEvent"),o.emit=function(t){var n=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,n)},o.setOnceReturnValue=function(t){return this._onceReturnValue=t,this},o._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},o._getEvents=function(){return this._events||(this._events={})},t.noConflict=function(){return i.EventEmitter=a,t},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return t}):"object"==typeof module&&module.exports?module.exports=t:this.EventEmitter=t}.call(this),function(t){function n(t){if(t){if("string"==typeof o[t])return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var n,i=0,a=e.length;a>i;i++)if(n=e[i]+t,"string"==typeof o[n])return n}}var e="Webkit Moz ms Ms O".split(" "),o=document.documentElement.style;"function"==typeof define&&define.amd?define("get-style-property/get-style-property",[],function(){return n}):"object"==typeof exports?module.exports=n:t.getStyleProperty=n}(window),function(t){function n(t){var n=parseFloat(t),e=-1===t.indexOf("%")&&!isNaN(n);return e&&n}function e(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},n=0,e=s.length;e>n;n++){var o=s[n];t[o]=0}return t}function o(t){function o(t){if("string"==typeof t&&(t=document.querySelector(t)),t&&"object"==typeof t&&t.nodeType){var o=a(t);if("none"===o.display)return e();var i={};i.width=t.offsetWidth,i.height=t.offsetHeight;for(var h=i.isBorderBox=!(!u||!o[u]||"border-box"!==o[u]),f=0,l=s.length;l>f;f++){var d=s[f],p=o[d];p=r(t,p);var m=parseFloat(p);i[d]=isNaN(m)?0:m}var v=i.paddingLeft+i.paddingRight,g=i.paddingTop+i.paddingBottom,b=i.marginLeft+i.marginRight,y=i.marginTop+i.marginBottom,C=i.borderLeftWidth+i.borderRightWidth,k=i.borderTopWidth+i.borderBottomWidth,w=h&&c,x=n(o.width);x!==!1&&(i.width=x+(w?0:v+C));var j=n(o.height);return j!==!1&&(i.height=j+(w?0:g+k)),i.innerWidth=i.width-(v+C),i.innerHeight=i.height-(g+k),i.outerWidth=i.width+b,i.outerHeight=i.height+y,i}}function r(t,n){if(i||-1===n.indexOf("%"))return n;var e=t.style,o=e.left,a=t.runtimeStyle,s=a&&a.left;return s&&(a.left=t.currentStyle.left),e.left=n,n=e.pixelLeft,e.left=o,s&&(a.left=s),n}var c,u=t("boxSizing");return function(){if(u){var t=document.createElement("div");t.style.width="200px",t.style.padding="1px 2px 3px 4px",t.style.borderStyle="solid",t.style.borderWidth="1px 2px 3px 4px",t.style[u]="border-box";var e=document.body||document.documentElement;e.appendChild(t);var o=a(t);c=200===n(o.width),e.removeChild(t)}}(),o}var i=t.getComputedStyle,a=i?function(t){return i(t,null)}:function(t){return t.currentStyle},s=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];"function"==typeof define&&define.amd?define("get-size/get-size",["get-style-property/get-style-property"],o):"object"==typeof exports?module.exports=o(require("get-style-property")):t.getSize=o(t.getStyleProperty)}(window),function(t,n){function e(t,n){return t[r](n)}function o(t){if(!t.parentNode){var n=document.createDocumentFragment();n.appendChild(t)}}function i(t,n){o(t);for(var e=t.parentNode.querySelectorAll(n),i=0,a=e.length;a>i;i++)if(e[i]===t)return!0;return!1}function a(t,n){return o(t),e(t,n)}var s,r=function(){if(n.matchesSelector)return"matchesSelector";for(var t=["webkit","moz","ms","o"],e=0,o=t.length;o>e;e++){var i=t[e],a=i+"MatchesSelector";if(n[a])return a}}();if(r){var c=document.createElement("div"),u=e(c,"div");s=u?e:a}else s=i;"function"==typeof define&&define.amd?define("matches-selector/matches-selector",[],function(){return s}):window.matchesSelector=s}(this,Element.prototype),function(t){function n(t,n){for(var e in n)t[e]=n[e];return t}function e(t){for(var n in t)return!1;return n=null,!0}function o(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}function i(t,i,a){function r(t,n){t&&(this.element=t,this.layout=n,this.position={x:0,y:0},this._create())}var c=a("transition"),u=a("transform"),h=c&&u,f=!!a("perspective"),l={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[c],d=["transform","transition","transitionDuration","transitionProperty"],p=function(){for(var t={},n=0,e=d.length;e>n;n++){var o=d[n],i=a(o);i&&i!==o&&(t[o]=i)}return t}();n(r.prototype,t.prototype),r.prototype._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},r.prototype.handleEvent=function(t){var n="on"+t.type;this[n]&&this[n](t)},r.prototype.getSize=function(){this.size=i(this.element)},r.prototype.css=function(t){var n=this.element.style;for(var e in t){var o=p[e]||e;n[o]=t[e]}},r.prototype.getPosition=function(){var t=s(this.element),n=this.layout.options,e=n.isOriginLeft,o=n.isOriginTop,i=parseInt(t[e?"left":"right"],10),a=parseInt(t[o?"top":"bottom"],10);i=isNaN(i)?0:i,a=isNaN(a)?0:a;var r=this.layout.size;i-=e?r.paddingLeft:r.paddingRight,a-=o?r.paddingTop:r.paddingBottom,this.position.x=i,this.position.y=a},r.prototype.layoutPosition=function(){var t=this.layout.size,n=this.layout.options,e={};n.isOriginLeft?(e.left=this.position.x+t.paddingLeft+"px",e.right=""):(e.right=this.position.x+t.paddingRight+"px",e.left=""),n.isOriginTop?(e.top=this.position.y+t.paddingTop+"px",e.bottom=""):(e.bottom=this.position.y+t.paddingBottom+"px",e.top=""),this.css(e),this.emitEvent("layout",[this])};var m=f?function(t,n){return"translate3d("+t+"px, "+n+"px, 0)"}:function(t,n){return"translate("+t+"px, "+n+"px)"};r.prototype._transitionTo=function(t,n){this.getPosition();var e=this.position.x,o=this.position.y,i=parseInt(t,10),a=parseInt(n,10),s=i===this.position.x&&a===this.position.y;if(this.setPosition(t,n),s&&!this.isTransitioning)return void this.layoutPosition();var r=t-e,c=n-o,u={},h=this.layout.options;r=h.isOriginLeft?r:-r,c=h.isOriginTop?c:-c,u.transform=m(r,c),this.transition({to:u,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},r.prototype.goTo=function(t,n){this.setPosition(t,n),this.layoutPosition()},r.prototype.moveTo=h?r.prototype._transitionTo:r.prototype.goTo,r.prototype.setPosition=function(t,n){this.position.x=parseInt(t,10),this.position.y=parseInt(n,10)},r.prototype._nonTransition=function(t){this.css(t.to),t.isCleaning&&this._removeStyles(t.to);for(var n in t.onTransitionEnd)t.onTransitionEnd[n].call(this)},r.prototype._transition=function(t){if(!parseFloat(this.layout.options.transitionDuration))return void this._nonTransition(t);var n=this._transn;for(var e in t.onTransitionEnd)n.onEnd[e]=t.onTransitionEnd[e];for(e in t.to)n.ingProperties[e]=!0,t.isCleaning&&(n.clean[e]=!0);if(t.from){this.css(t.from);var o=this.element.offsetHeight;o=null}this.enableTransition(t.to),this.css(t.to),this.isTransitioning=!0};var v=u&&o(u)+",opacity";r.prototype.enableTransition=function(){this.isTransitioning||(this.css({transitionProperty:v,transitionDuration:this.layout.options.transitionDuration}),this.element.addEventListener(l,this,!1))},r.prototype.transition=r.prototype[c?"_transition":"_nonTransition"],r.prototype.onwebkitTransitionEnd=function(t){this.ontransitionend(t)},r.prototype.onotransitionend=function(t){this.ontransitionend(t)};var g={"-webkit-transform":"transform","-moz-transform":"transform","-o-transform":"transform"};r.prototype.ontransitionend=function(t){if(t.target===this.element){var n=this._transn,o=g[t.propertyName]||t.propertyName;if(delete n.ingProperties[o],e(n.ingProperties)&&this.disableTransition(),o in n.clean&&(this.element.style[t.propertyName]="",delete n.clean[o]),o in n.onEnd){var i=n.onEnd[o];i.call(this),delete n.onEnd[o]}this.emitEvent("transitionEnd",[this])}},r.prototype.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(l,this,!1),this.isTransitioning=!1},r.prototype._removeStyles=function(t){var n={};for(var e in t)n[e]="";this.css(n)};var b={transitionProperty:"",transitionDuration:""};return r.prototype.removeTransitionStyles=function(){this.css(b)},r.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element),this.emitEvent("remove",[this])},r.prototype.remove=function(){if(!c||!parseFloat(this.layout.options.transitionDuration))return void this.removeElem();var t=this;this.on("transitionEnd",function(){return t.removeElem(),!0}),this.hide()},r.prototype.reveal=function(){delete this.isHidden,this.css({display:""});var t=this.layout.options;this.transition({from:t.hiddenStyle,to:t.visibleStyle,isCleaning:!0})},r.prototype.hide=function(){this.isHidden=!0,this.css({display:""});var t=this.layout.options;this.transition({from:t.visibleStyle,to:t.hiddenStyle,isCleaning:!0,onTransitionEnd:{opacity:function(){this.isHidden&&this.css({display:"none"})}}})},r.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},r}var a=t.getComputedStyle,s=a?function(t){return a(t,null)}:function(t){return t.currentStyle};"function"==typeof define&&define.amd?define("outlayer/item",["eventEmitter/EventEmitter","get-size/get-size","get-style-property/get-style-property"],i):(t.Outlayer={},t.Outlayer.Item=i(t.EventEmitter,t.getSize,t.getStyleProperty))}(window),function(t){function n(t,n){for(var e in n)t[e]=n[e];return t}function e(t){return"[object Array]"===f.call(t)}function o(t){var n=[];if(e(t))n=t;else if(t&&"number"==typeof t.length)for(var o=0,i=t.length;i>o;o++)n.push(t[o]);else n.push(t);return n}function i(t,n){var e=d(n,t);-1!==e&&n.splice(e,1)}function a(t){return t.replace(/(.)([A-Z])/g,function(t,n,e){return n+"-"+e}).toLowerCase()}function s(e,s,f,d,p,m){function v(t,e){if("string"==typeof t&&(t=r.querySelector(t)),!t||!l(t))return void(c&&c.error("Bad "+this.constructor.namespace+" element: "+t));this.element=t,this.options=n({},this.constructor.defaults),this.option(e);var o=++g;this.element.outlayerGUID=o,b[o]=this,this._create(),this.options.isInitLayout&&this.layout()}var g=0,b={};return v.namespace="outlayer",v.Item=m,v.defaults={containerStyle:{position:"relative"},isInitLayout:!0,isOriginLeft:!0,isOriginTop:!0,isResizeBound:!0,isResizingContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}},n(v.prototype,f.prototype),v.prototype.option=function(t){n(this.options,t)},v.prototype._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),n(this.element.style,this.options.containerStyle),this.options.isResizeBound&&this.bindResize()},v.prototype.reloadItems=function(){this.items=this._itemize(this.element.children)},v.prototype._itemize=function(t){for(var n=this._filterFindItemElements(t),e=this.constructor.Item,o=[],i=0,a=n.length;a>i;i++){var s=n[i],r=new e(s,this);o.push(r)}return o},v.prototype._filterFindItemElements=function(t){t=o(t);for(var n=this.options.itemSelector,e=[],i=0,a=t.length;a>i;i++){var s=t[i];if(l(s))if(n){p(s,n)&&e.push(s);for(var r=s.querySelectorAll(n),c=0,u=r.length;u>c;c++)e.push(r[c])}else e.push(s)}return e},v.prototype.getItemElements=function(){for(var t=[],n=0,e=this.items.length;e>n;n++)t.push(this.items[n].element);return t},v.prototype.layout=function(){this._resetLayout(),this._manageStamps();var t=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;this.layoutItems(this.items,t),this._isLayoutInited=!0},v.prototype._init=v.prototype.layout,v.prototype._resetLayout=function(){this.getSize()},v.prototype.getSize=function(){this.size=d(this.element)},v.prototype._getMeasurement=function(t,n){var e,o=this.options[t];o?("string"==typeof o?e=this.element.querySelector(o):l(o)&&(e=o),this[t]=e?d(e)[n]:o):this[t]=0},v.prototype.layoutItems=function(t,n){t=this._getItemsForLayout(t),this._layoutItems(t,n),this._postLayout()},v.prototype._getItemsForLayout=function(t){for(var n=[],e=0,o=t.length;o>e;e++){var i=t[e];i.isIgnored||n.push(i)}return n},v.prototype._layoutItems=function(t,n){function e(){o.emitEvent("layoutComplete",[o,t])}var o=this;if(!t||!t.length)return void e();this._itemsOn(t,"layout",e);for(var i=[],a=0,s=t.length;s>a;a++){var r=t[a],c=this._getItemLayoutPosition(r);c.item=r,c.isInstant=n||r.isLayoutInstant,i.push(c)}this._processLayoutQueue(i)},v.prototype._getItemLayoutPosition=function(){return{x:0,y:0}},v.prototype._processLayoutQueue=function(t){for(var n=0,e=t.length;e>n;n++){var o=t[n];this._positionItem(o.item,o.x,o.y,o.isInstant)}},v.prototype._positionItem=function(t,n,e,o){o?t.goTo(n,e):t.moveTo(n,e)},v.prototype._postLayout=function(){this.resizeContainer()},v.prototype.resizeContainer=function(){if(this.options.isResizingContainer){var t=this._getContainerSize();t&&(this._setContainerMeasure(t.width,!0),this._setContainerMeasure(t.height,!1))}},v.prototype._getContainerSize=h,v.prototype._setContainerMeasure=function(t,n){if(void 0!==t){var e=this.size;e.isBorderBox&&(t+=n?e.paddingLeft+e.paddingRight+e.borderLeftWidth+e.borderRightWidth:e.paddingBottom+e.paddingTop+e.borderTopWidth+e.borderBottomWidth),t=Math.max(t,0),this.element.style[n?"width":"height"]=t+"px"}},v.prototype._itemsOn=function(t,n,e){function o(){return i++,i===a&&e.call(s),!0}for(var i=0,a=t.length,s=this,r=0,c=t.length;c>r;r++){var u=t[r];u.on(n,o)}},v.prototype.ignore=function(t){var n=this.getItem(t);n&&(n.isIgnored=!0)},v.prototype.unignore=function(t){var n=this.getItem(t);n&&delete n.isIgnored},v.prototype.stamp=function(t){if(t=this._find(t)){this.stamps=this.stamps.concat(t);for(var n=0,e=t.length;e>n;n++){var o=t[n];this.ignore(o)}}},v.prototype.unstamp=function(t){if(t=this._find(t))for(var n=0,e=t.length;e>n;n++){var o=t[n];i(o,this.stamps),this.unignore(o)}},v.prototype._find=function(t){return t?("string"==typeof t&&(t=this.element.querySelectorAll(t)),t=o(t)):void 0},v.prototype._manageStamps=function(){if(this.stamps&&this.stamps.length){this._getBoundingRect();for(var t=0,n=this.stamps.length;n>t;t++){var e=this.stamps[t];this._manageStamp(e)}}},v.prototype._getBoundingRect=function(){var t=this.element.getBoundingClientRect(),n=this.size;this._boundingRect={left:t.left+n.paddingLeft+n.borderLeftWidth,top:t.top+n.paddingTop+n.borderTopWidth,right:t.right-(n.paddingRight+n.borderRightWidth),bottom:t.bottom-(n.paddingBottom+n.borderBottomWidth)}},v.prototype._manageStamp=h,v.prototype._getElementOffset=function(t){var n=t.getBoundingClientRect(),e=this._boundingRect,o=d(t),i={left:n.left-e.left-o.marginLeft,top:n.top-e.top-o.marginTop,right:e.right-n.right-o.marginRight,bottom:e.bottom-n.bottom-o.marginBottom};return i},v.prototype.handleEvent=function(t){var n="on"+t.type;this[n]&&this[n](t)},v.prototype.bindResize=function(){this.isResizeBound||(e.bind(t,"resize",this),this.isResizeBound=!0)},v.prototype.unbindResize=function(){this.isResizeBound&&e.unbind(t,"resize",this),this.isResizeBound=!1},v.prototype.onresize=function(){function t(){n.resize(),delete n.resizeTimeout}this.resizeTimeout&&clearTimeout(this.resizeTimeout);var n=this;this.resizeTimeout=setTimeout(t,100)},v.prototype.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},v.prototype.needsResizeLayout=function(){var t=d(this.element),n=this.size&&t;return n&&t.innerWidth!==this.size.innerWidth},v.prototype.addItems=function(t){var n=this._itemize(t);return n.length&&(this.items=this.items.concat(n)),n},v.prototype.appended=function(t){var n=this.addItems(t);n.length&&(this.layoutItems(n,!0),this.reveal(n))},v.prototype.prepended=function(t){var n=this._itemize(t);if(n.length){var e=this.items.slice(0);this.items=n.concat(e),this._resetLayout(),this._manageStamps(),this.layoutItems(n,!0),this.reveal(n),this.layoutItems(e)}},v.prototype.reveal=function(t){var n=t&&t.length;if(n)for(var e=0;n>e;e++){var o=t[e];o.reveal()}},v.prototype.hide=function(t){var n=t&&t.length;if(n)for(var e=0;n>e;e++){var o=t[e];o.hide()}},v.prototype.getItem=function(t){for(var n=0,e=this.items.length;e>n;n++){var o=this.items[n];if(o.element===t)return o}},v.prototype.getItems=function(t){if(t&&t.length){for(var n=[],e=0,o=t.length;o>e;e++){var i=t[e],a=this.getItem(i);a&&n.push(a)}return n}},v.prototype.remove=function(t){t=o(t);var n=this.getItems(t);if(n&&n.length){this._itemsOn(n,"remove",function(){this.emitEvent("removeComplete",[this,n])});for(var e=0,a=n.length;a>e;e++){var s=n[e];s.remove(),i(s,this.items)}}},v.prototype.destroy=function(){var t=this.element.style;t.height="",t.position="",t.width="";for(var n=0,e=this.items.length;e>n;n++){var o=this.items[n];o.destroy()}this.unbindResize(),delete this.element.outlayerGUID,u&&u.removeData(this.element,this.constructor.namespace)},v.data=function(t){var n=t&&t.outlayerGUID;return n&&b[n]},v.create=function(t,e){function o(){v.apply(this,arguments)}return Object.create?o.prototype=Object.create(v.prototype):n(o.prototype,v.prototype),o.prototype.constructor=o,o.defaults=n({},v.defaults),n(o.defaults,e),o.prototype.settings={},o.namespace=t,o.data=v.data,o.Item=function(){m.apply(this,arguments)},o.Item.prototype=new m,s(function(){for(var n=a(t),e=r.querySelectorAll(".js-"+n),i="data-"+n+"-options",s=0,h=e.length;h>s;s++){var f,l=e[s],d=l.getAttribute(i);try{f=d&&JSON.parse(d)}catch(p){c&&c.error("Error parsing "+i+" on "+l.nodeName.toLowerCase()+(l.id?"#"+l.id:"")+": "+p);continue}var m=new o(l,f);u&&u.data(l,t,m)}}),u&&u.bridget&&u.bridget(t,o),o},v.Item=m,v}var r=t.document,c=t.console,u=t.jQuery,h=function(){},f=Object.prototype.toString,l="object"==typeof HTMLElement?function(t){return t instanceof HTMLElement}:function(t){return t&&"object"==typeof t&&1===t.nodeType&&"string"==typeof t.nodeName},d=Array.prototype.indexOf?function(t,n){return t.indexOf(n)}:function(t,n){for(var e=0,o=t.length;o>e;e++)if(t[e]===n)return e;return-1};"function"==typeof define&&define.amd?define("outlayer/outlayer",["eventie/eventie","doc-ready/doc-ready","eventEmitter/EventEmitter","get-size/get-size","matches-selector/matches-selector","./item"],s):t.Outlayer=s(t.eventie,t.docReady,t.EventEmitter,t.getSize,t.matchesSelector,t.Outlayer.Item)}(window),function(t){function n(t,n){var o=t.create("masonry");return o.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns();var t=this.cols;for(this.colYs=[];t--;)this.colYs.push(0);this.maxY=0},o.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var t=this.items[0],e=t&&t.element;this.columnWidth=e&&n(e).outerWidth||this.containerWidth}this.columnWidth+=this.gutter,this.cols=Math.floor((this.containerWidth+this.gutter)/this.columnWidth),this.cols=Math.max(this.cols,1)},o.prototype.getContainerWidth=function(){var t=this.options.isFitWidth?this.element.parentNode:this.element,e=n(t);this.containerWidth=e&&e.innerWidth},o.prototype._getItemLayoutPosition=function(t){t.getSize();var n=t.size.outerWidth%this.columnWidth,o=n&&1>n?"round":"ceil",i=Math[o](t.size.outerWidth/this.columnWidth);i=Math.min(i,this.cols);for(var a=this._getColGroup(i),s=Math.min.apply(Math,a),r=e(a,s),c={x:this.columnWidth*r,y:s},u=s+t.size.outerHeight,h=this.cols+1-a.length,f=0;h>f;f++)this.colYs[r+f]=u;return c},o.prototype._getColGroup=function(t){if(2>t)return this.colYs;for(var n=[],e=this.cols+1-t,o=0;e>o;o++){var i=this.colYs.slice(o,o+t);n[o]=Math.max.apply(Math,i)}return n},o.prototype._manageStamp=function(t){var e=n(t),o=this._getElementOffset(t),i=this.options.isOriginLeft?o.left:o.right,a=i+e.outerWidth,s=Math.floor(i/this.columnWidth);s=Math.max(0,s);var r=Math.floor(a/this.columnWidth);r-=a%this.columnWidth?0:1,r=Math.min(this.cols-1,r);for(var c=(this.options.isOriginTop?o.top:o.bottom)+e.outerHeight,u=s;r>=u;u++)this.colYs[u]=Math.max(c,this.colYs[u])},o.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var t={height:this.maxY};return this.options.isFitWidth&&(t.width=this._getContainerFitWidth()),t},o.prototype._getContainerFitWidth=function(){for(var t=0,n=this.cols;--n&&0===this.colYs[n];)t++;return(this.cols-t)*this.columnWidth-this.gutter},o.prototype.needsResizeLayout=function(){var t=this.containerWidth;return this.getContainerWidth(),t!==this.containerWidth},o}var e=Array.prototype.indexOf?function(t,n){return t.indexOf(n)}:function(t,n){for(var e=0,o=t.length;o>e;e++){var i=t[e];if(i===n)return e}return-1};"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size"],n):t.Masonry=n(t.Outlayer,t.getSize)}(window),function(){function t(){}function n(t,n){for(var e=t.length;e--;)if(t[e].listener===n)return e;return-1}function e(t){return function(){return this[t].apply(this,arguments)}}var o=t.prototype,i=this,a=i.EventEmitter;o.getListeners=function(t){var n,e,o=this._getEvents();if("object"==typeof t){n={};for(e in o)o.hasOwnProperty(e)&&t.test(e)&&(n[e]=o[e])}else n=o[t]||(o[t]=[]);return n},o.flattenListeners=function(t){var n,e=[];for(n=0;t.length>n;n+=1)e.push(t[n].listener);return e},o.getListenersAsObject=function(t){var n,e=this.getListeners(t);return e instanceof Array&&(n={},n[t]=e),n||e},o.addListener=function(t,e){var o,i=this.getListenersAsObject(t),a="object"==typeof e;for(o in i)i.hasOwnProperty(o)&&-1===n(i[o],e)&&i[o].push(a?e:{listener:e,once:!1});return this},o.on=e("addListener"),o.addOnceListener=function(t,n){return this.addListener(t,{listener:n,once:!0})},o.once=e("addOnceListener"),o.defineEvent=function(t){return this.getListeners(t),this},o.defineEvents=function(t){for(var n=0;t.length>n;n+=1)this.defineEvent(t[n]);return this},o.removeListener=function(t,e){var o,i,a=this.getListenersAsObject(t);for(i in a)a.hasOwnProperty(i)&&(o=n(a[i],e),-1!==o&&a[i].splice(o,1));return this},o.off=e("removeListener"),o.addListeners=function(t,n){return this.manipulateListeners(!1,t,n)},o.removeListeners=function(t,n){return this.manipulateListeners(!0,t,n)},o.manipulateListeners=function(t,n,e){var o,i,a=t?this.removeListener:this.addListener,s=t?this.removeListeners:this.addListeners;if("object"!=typeof n||n instanceof RegExp)for(o=e.length;o--;)a.call(this,n,e[o]);else for(o in n)n.hasOwnProperty(o)&&(i=n[o])&&("function"==typeof i?a.call(this,o,i):s.call(this,o,i));return this},o.removeEvent=function(t){var n,e=typeof t,o=this._getEvents();if("string"===e)delete o[t];else if("object"===e)for(n in o)o.hasOwnProperty(n)&&t.test(n)&&delete o[n];else delete this._events;return this},o.removeAllListeners=e("removeEvent"),o.emitEvent=function(t,n){var e,o,i,a,s=this.getListenersAsObject(t);for(i in s)if(s.hasOwnProperty(i))for(o=s[i].length;o--;)e=s[i][o],e.once===!0&&this.removeListener(t,e.listener),a=e.listener.apply(this,n||[]),a===this._getOnceReturnValue()&&this.removeListener(t,e.listener);return this},o.trigger=e("emitEvent"),o.emit=function(t){var n=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,n)},o.setOnceReturnValue=function(t){return this._onceReturnValue=t,this},o._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},o._getEvents=function(){return this._events||(this._events={})},t.noConflict=function(){return i.EventEmitter=a,t},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return t}):"object"==typeof module&&module.exports?module.exports=t:this.EventEmitter=t
}.call(this),function(t){function n(n){var e=t.event;return e.target=e.target||e.srcElement||n,e}var e=document.documentElement,o=function(){};e.addEventListener?o=function(t,n,e){t.addEventListener(n,e,!1)}:e.attachEvent&&(o=function(t,e,o){t[e+o]=o.handleEvent?function(){var e=n(t);o.handleEvent.call(o,e)}:function(){var e=n(t);o.call(t,e)},t.attachEvent("on"+e,t[e+o])});var i=function(){};e.removeEventListener?i=function(t,n,e){t.removeEventListener(n,e,!1)}:e.detachEvent&&(i=function(t,n,e){t.detachEvent("on"+n,t[n+e]);try{delete t[n+e]}catch(o){t[n+e]=void 0}});var a={bind:o,unbind:i};"function"==typeof define&&define.amd?define("eventie/eventie",a):t.eventie=a}(this),function(t,n){"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],function(e,o){return n(t,e,o)}):"object"==typeof exports?module.exports=n(t,require("wolfy87-eventemitter"),require("eventie")):t.imagesLoaded=n(t,t.EventEmitter,t.eventie)}(window,function(t,n,e){function o(t,n){for(var e in n)t[e]=n[e];return t}function i(t){return"[object Array]"===l.call(t)}function a(t){var n=[];if(i(t))n=t;else if("number"==typeof t.length)for(var e=0,o=t.length;o>e;e++)n.push(t[e]);else n.push(t);return n}function s(t,n,e){if(!(this instanceof s))return new s(t,n);"string"==typeof t&&(t=document.querySelectorAll(t)),this.elements=a(t),this.options=o({},this.options),"function"==typeof n?e=n:o(this.options,n),e&&this.on("always",e),this.getImages(),u&&(this.jqDeferred=new u.Deferred);var i=this;setTimeout(function(){i.check()})}function r(t){this.img=t}function c(t){this.src=t,d[t]=this}var u=t.jQuery,h=t.console,f=void 0!==h,l=Object.prototype.toString;s.prototype=new n,s.prototype.options={},s.prototype.getImages=function(){this.images=[];for(var t=0,n=this.elements.length;n>t;t++){var e=this.elements[t];"IMG"===e.nodeName&&this.addImage(e);var o=e.nodeType;if(o&&(1===o||9===o||11===o))for(var i=e.querySelectorAll("img"),a=0,s=i.length;s>a;a++){var r=i[a];this.addImage(r)}}},s.prototype.addImage=function(t){var n=new r(t);this.images.push(n)},s.prototype.check=function(){function t(t,i){return n.options.debug&&f&&h.log("confirm",t,i),n.progress(t),e++,e===o&&n.complete(),!0}var n=this,e=0,o=this.images.length;if(this.hasAnyBroken=!1,!o)return this.complete(),void 0;for(var i=0;o>i;i++){var a=this.images[i];a.on("confirm",t),a.check()}},s.prototype.progress=function(t){this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded;var n=this;setTimeout(function(){n.emit("progress",n,t),n.jqDeferred&&n.jqDeferred.notify&&n.jqDeferred.notify(n,t)})},s.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var n=this;setTimeout(function(){if(n.emit(t,n),n.emit("always",n),n.jqDeferred){var e=n.hasAnyBroken?"reject":"resolve";n.jqDeferred[e](n)}})},u&&(u.fn.imagesLoaded=function(t,n){var e=new s(this,t,n);return e.jqDeferred.promise(u(this))}),r.prototype=new n,r.prototype.check=function(){var t=d[this.img.src]||new c(this.img.src);if(t.isConfirmed)return this.confirm(t.isLoaded,"cached was confirmed"),void 0;if(this.img.complete&&void 0!==this.img.naturalWidth)return this.confirm(0!==this.img.naturalWidth,"naturalWidth"),void 0;var n=this;t.on("confirm",function(t,e){return n.confirm(t.isLoaded,e),!0}),t.check()},r.prototype.confirm=function(t,n){this.isLoaded=t,this.emit("confirm",this,n)};var d={};return c.prototype=new n,c.prototype.check=function(){if(!this.isChecked){var t=new Image;e.bind(t,"load",this),e.bind(t,"error",this),t.src=this.src,this.isChecked=!0}},c.prototype.handleEvent=function(t){var n="on"+t.type;this[n]&&this[n](t)},c.prototype.onload=function(t){this.confirm(!0,"onload"),this.unbindProxyEvents(t)},c.prototype.onerror=function(t){this.confirm(!1,"onerror"),this.unbindProxyEvents(t)},c.prototype.confirm=function(t,n){this.isConfirmed=!0,this.isLoaded=t,this.emit("confirm",this,n)},c.prototype.unbindProxyEvents=function(t){e.unbind(t.target,"load",this),e.unbind(t.target,"error",this)},s});